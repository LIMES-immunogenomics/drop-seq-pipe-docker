version: '3'

services:
  drop-seq-pipe:
    build: .
    image: pwlb/drop-seq-pipe
    environment:
      - NUMCELLS=50000
      - NTHREADS=8
      - SAMPLENAMES=STAT1_Ctrl_1_1 STAT1_Ctrl_1_2 STAT1_Ctrl_2_1 STAT1_Ctrl_2_2

    # use when debugging and for interactive testing
    # command: ""
    # entrypoint: "/bin/bash"
    # stdin_open: true
    # tty: true

    volumes:
      - ~/Data/projects/STAT1/drop-seq-test:/input:ro
      - ~/Data/test-data/output:/output:rw

      # this folder will contain all the metadata generated by the
      # pipeline, this data can be re-used in subsequent analysis
      - ~/Data/reference-files/dropseqpipe/human/GRCh38.p10:/meta:rw
